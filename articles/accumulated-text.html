<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>What is an accumulated text bucket? - Max Design</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="../assets/css/styles.css" rel="stylesheet">
  <meta name="description" content="Learn how browsers build accessible names using the idea of an accumulated text bucket, and why some naming rules empty and replace it">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="icon" href="/favicon.ico">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&family=Roboto+Slab&display=swap" rel="stylesheet">
  <link rel="alternate" type="application/rss+xml" href="https://www.maxdesign.com.au/feed.xml" title="Max Design articles">
</head>
<body>
  <header>
    maxdesign.com.au
  </header>

  <nav aria-label="Site">
    <ul>
      <li><a href="../index.html">Home</a></li>
      <li><a href="../about/index.html">About</a></li>
      <li><a href="../resources/index.html">Resources</a></li>
      <li><a href="../talks/index.html">Presentations</a></li>
      <li><a href="../articles/index.html" class="current">Articles</a></li>
    </ul>
  </nav>

  <div class="banner-inner">
    <div class="banner-content">
      <h1>What is an &ldquo;accumulated text bucket&rdquo;?</h1>
    </div>
  </div>

  <main>

<p class="metadetails">Published: <time datetime="2025-12-10">10 December 2025</time></p>

<p>The <a href="https://www.w3.org/TR/accname-1.1/" target="_blank">Accessible Name and Description Computation</a> describes how browsers calculate accessible names and descriptions for elements.</p> 

<p>Throughout the specification, you’ll see the term <b>&ldquo;accumulated text&rdquo;</b>.</p> 

<p>But what does &ldquo;accumulated text&rdquo; actually mean?</p>

<p>When the browser tries to compute an accessible name &mdash; for example, by following <code>aria-labelledby</code> references or collecting text from child nodes &mdash; the algorithm needs a temporary place to store the text it gathers.</p> 

<p>Because the browser may need to pull text from several different locations (such as multiple referenced nodes or multiple child elements), it builds this up piece by piece in a temporary storage area called the &ldquo;accumulated text&rdquo;.</p> 

<p>Think of this as an <b>&ldquo;accumulated text bucket&rdquo;</b> &mdash; a container the browser fills with bits of text from different sources before deciding what the final name should be.</p>

<p>“Accumulated text bucket” isn’t an official term from the specification, but it’s a useful way to visualise how the algorithm collects, updates, and sometimes replaces text as it computes an accessible name.</p>

<h2>An &ldquo;accumulated text&rdquo; example</h2>

<p>In the example below, the button’s <code>aria-labelledby</code> attribute references two IDs. This means its accessible name is built from two separate sources:</p>

<pre><code>&lt;button aria-labelledby="aaa bbb"&gt;&lt;/button&gt;
&lt;p id="aaa"&gt;Buy Lawn Mower&lt;/p&gt;
&lt;p id="bbb"&gt;On special&lt;/p&gt;</code></pre>

<p>The algorithm collects text from each referenced element, placing each piece into the “accumulated text” bucket. Once both sources are processed, the bucket contains:</p>

<p><b>“Buy Lawn Mower On special”</b></p>

<p>These text strings are concatenated to form the button’s final accessible name.</p>

<h2>Emptying the bucket</h2>

<p>Sometimes new naming rules take priority over earlier ones. When that happens, the browser must &ldquo;empty the bucket&rdquo; and start again.</p>

<p>The Accessible Name and Description Computation includes the following rule:</p> 

<blockquote>
  <p><b>2.2</b> If the current node has an <code>aria-labelledby</code> attribute with at least one valid IDREF, and the node is not already part of an ongoing <code>aria-labelledby</code> or <code>aria-describedby</code> traversal, then:</p> 
  <p><b>2.2.1</b> Set the accumulated text to the empty string. (Empty the bucket.)</p>
</blockquote>

<p>In plain language:</p>

<blockquote>
  <p>If an element has a valid <code>aria-labelledby</code>, the browser clears anything it has collected so far because the accessible name must come only from the referenced elements.</p>
</blockquote>

<p>A simple example:</p>
<pre><code>&lt;button aria-labelledby="aaa"&gt;
  Hello world
&lt;/button&gt;
&lt;p id="aaa" style="display: none;"&gt;Goodbye world&lt;/p&gt;
</code></pre>

<p>Even though the button contains visible text (“Hello world”), the <code>aria-labelledby</code> rule overrides it.</p>

<p>The browser must:</p>

<ol>
  <li>Empty the accumulated text bucket</li>
  <li>Ignore the button’s own content</li>
  <li>Use only the text from the referenced element</li>
  <li>Produce the final name: “Goodbye world”</li> 
</ol>

<h2>What is “total accumulated text”?</h2>

<p>The specification also refers to “total accumulated text,” which is the combined text collected from all relevant parts of the element and its referenced nodes.</p>

<p>This “total accumulated text” is then concatenated into a single string to produce the element’s final accessible name.</p>

<h2>Conclusion</h2>

<p>Understanding “accumulated text” and “total accumulated text” helps make sense of how browsers build accessible names. By picturing these steps as a bucket being filled, emptied, and finally combined into a single string, it becomes much easier to understand how the specification works in practice.</p>

  </main>
  <footer>
    <ul>
      <li><a href="/sitemap.html">Sitemap</a></li>
      <li><a href="/feed.xml">Feed</a></li>
      <li><a href="/contact-us/index.html">Contact</a></li>
      <li><a href="https://github.com/russmaxdesign" target="_blank">Github</a></li>
      <li><a href="https://www.linkedin.com/in/russweakley/" target="_blank">Linkedin</a></li>
    </ul>
    <p>Copyright &copy; Max Design 2025</p>
  </footer>
</body>
</html>

